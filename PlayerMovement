using UnityEngine;

public class PlayerMovement : MonoBehaviour
{
    public float ileriHiz = 10f;
    public float seritHizi = 15f; // Şerit değiştirme hızı
    private int hedefSerit = 1; // 0=Sol, 1=Orta, 2=Sağ
    public float seritMesafesi = 2f; // Şeritler arası mesafe

    void Update()
    {
        transform.Translate(Vector3.forward * ileriHiz * Time.deltaTime);

        if (Input.GetKeyDown(KeyCode.A) || Input.GetKeyDown(KeyCode.LeftArrow))
        {
            // Sola gitmek istiyor
            hedefSerit--;
            if (hedefSerit < 0)
                hedefSerit = 0;
        }
        if (Input.GetKeyDown(KeyCode.D) || Input.GetKeyDown(KeyCode.RightArrow))
        {
            hedefSerit++;
            if (hedefSerit > 2)
                hedefSerit = 2;
        }

        float hedefX = (hedefSerit - 1) * seritMesafesi; // -2, 0, veya 2

        Vector3 mevcutPozisyon = transform.position;

        mevcutPozisyon.x = Mathf.Lerp(mevcutPozisyon.x, hedefX, seritHizi * Time.deltaTime);
        
        transform.position = mevcutPozisyon;
    }
}

private void OnCollisionEnter(Collision collision)
{
    if (collision.gameObject.CompareTag("Engel"))
    {
        Debug.Log("OYUN BİTTİ!");
        
        Time.timeScale = 0f; 
        

    }
}
